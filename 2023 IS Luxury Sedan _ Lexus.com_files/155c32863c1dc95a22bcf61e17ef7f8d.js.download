Bootstrapper.bindDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){window.addEventListener("offers:search",function(e){let content_ids=e.detail.offer_ids?e.detail.offer_ids:e.detail.content_ids;let model=e.detail.model?e.detail.model:LEXUS.page.seriesName;let modelYear=e.detail.year?e.detail.year:LEXUS.modelYear;if(typeof modelYear!=="string")modelYear="";fbq("track","ViewContent",{content_type:"vehicle_offer",content_ids:content_ids,
offer_types:e.detail.offer_types,postal_code:e.detail.postal_code,make:"Lexus",model:model,year:modelYear})},false);window.addEventListener("offers:fbAddToWishList",function(e){let content_ids=typeof e.detail.content_ids==="string"?[e.detail.content_ids]:e.detail.content_ids;let offer_types=typeof e.detail.offer_type==="string"?[e.detail.offer_type]:e.detail.offer_type;let year=typeof e.detail.year==="string"?e.detail.year:"";fbq("track","AddToWishlist",{content_type:"vehicle_offer",content_ids:content_ids,
offer_types:offer_types,postal_code:e.detail.postal_code,year:year,make:"Lexus",model:e.detail.model})},false);window.addEventListener("offers:fbLead",function(e){console.log("**************");console.log("offers:fbLead custom event listener");console.log(e);console.log("**************");let content_ids=typeof e.detail.content_ids==="string"?[e.detail.content_ids]:e.detail.content_ids;let offer_types=typeof e.detail.offer_type==="string"?[e.detail.offer_type]:e.detail.offer_type;let year=typeof e.detail.year===
"string"?e.detail.year:"";fbq("track","Lead",{content_type:"vehicle_offer",content_ids:content_ids,offer_types:offer_types,postal_code:e.detail.postal_code,make:"Lexus",model:e.detail.model,year:year})},false);Bootstrapper.on("click",".offer .offer__button--showMap",function(e){var $this=$(this);var trim=$this.attr("data-engine").trim();var offer_id=$this.parent().attr("data-offer-id").trim();if($this.attr("data-drivetrain"))trim+=" "+$this.attr("data-drivetrain");fbq("track","AddToWishlist",{content_type:"vehicle_offer",
content_ids:[offer_id],offer_types:[$this.attr("data-offer-type")],postal_code:LEXUS.offersSearchData.detail.postal_code,year:$this.attr("data-model-year"),make:"Lexus",model:$this.attr("data-model"),trim:trim})},false);Bootstrapper.on("click",".map-container .offer-map__links a.inlink",function(e){var $activeOffer=$(".current-offers .offer.active");var offer_id=$activeOffer.attr("data-offer-id").trim();var offer_type=$activeOffer.attr("data-offer-type").trim();var year=$activeOffer.attr("data-model-year").trim();
var $findDealerButton=$activeOffer.find(".offer__button--showMap");var model=$findDealerButton.attr("data-model").trim();var trim=$findDealerButton.attr("data-engine").trim();if($findDealerButton.attr("data-drivetrain"))trim+=" "+$findDealerButton.attr("data-drivetrain");fbq("track","Lead",{content_type:"vehicle_offer",content_ids:[offer_id],offer_types:[offer_type],postal_code:LEXUS.offersSearchData.detail.postal_code,make:"Lexus",model:model,year:year})},false)}).call(window)},3836463,484838,3);